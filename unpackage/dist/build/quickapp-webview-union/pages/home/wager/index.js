(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/wager/index"],{3022:function(t,e,s){"use strict";var i=s("d6ef"),o=s.n(i);o.a},"528e":function(t,e,s){"use strict";s.r(e);var i=s("f7d0"),o=s.n(i);for(var n in i)"default"!==n&&function(t){s.d(e,t,(function(){return i[t]}))}(n);e["default"]=o.a},"76ae":function(t,e,s){"use strict";(function(t){s("f533");i(s("66fd"));var e=i(s("97c6"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,s("8adf")["createPage"])},"97c6":function(t,e,s){"use strict";s.r(e);var i=s("bfe3"),o=s("528e");for(var n in o)"default"!==n&&function(t){s.d(e,t,(function(){return o[t]}))}(n);s("3022"),s("e374");var l,u=s("f0c5"),a=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"2a9c7af7",null,!1,i["a"],l);e["default"]=a.exports},bfe3:function(t,e,s){"use strict";s.d(e,"b",(function(){return o})),s.d(e,"c",(function(){return n})),s.d(e,"a",(function(){return i}));var i={uCountDown:function(){return s.e("uview-ui/components/u-count-down/u-count-down").then(s.bind(null,"cfba"))},uSection:function(){return s.e("uview-ui/components/u-section/u-section").then(s.bind(null,"4d15"))},uButton:function(){return s.e("uview-ui/components/u-button/u-button").then(s.bind(null,"6660b"))},uNumberBox:function(){return s.e("uview-ui/components/u-number-box/u-number-box").then(s.bind(null,"8675"))},uSwitch:function(){return s.e("uview-ui/components/u-switch/u-switch").then(s.bind(null,"e6f7"))},uPopup:function(){return s.e("uview-ui/components/u-popup/u-popup").then(s.bind(null,"72f0"))},uGap:function(){return s.e("uview-ui/components/u-gap/u-gap").then(s.bind(null,"4bcf"))},uModal:function(){return s.e("uview-ui/components/u-modal/u-modal").then(s.bind(null,"c23a"))}},o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.ruleShow=!0},t.e1=function(e){t.bettingShow=!0},t.e2=function(e){t.subTitle="单买",t.type="1",t.bettingShow=!1},t.e3=function(e){t.bettingShow=!1},t.e4=function(e){t.hemai=!1})},n=[]},d6ef:function(t,e,s){},e374:function(t,e,s){"use strict";var i=s("e88d"),o=s.n(i);o.a},e88d:function(t,e,s){},f7d0:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s("2f62");o(s("0cb9"));function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){u(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function u(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var a={data:function(){return{lotteryTypeId:0,title:"",period:"",expect:"",ruleShow:!1,bettingShow:!1,hemai:!1,subTitle:"单买",type:1,tzxinx:!1,addNewTip:"投注信息",zdrengou:0,baodi:0,numList:[8,9,6],timestamp:0,list1_history:[1,2,3,4,5,6,7,8,9,0],qkstyle:{background:"#586c6d",color:"#f3f4f4"},tjstyle:{background:"#02c4cd",color:"#f3f4f4"},customStyle:{color:"#0575ff"},multiple:1,catchUp:!1,catchbd:!1,ruleList:[{groupId:100111,playedFullName:"直选"}],addList:[],objIndex:0,objActive:0,obj:[],adds:[],totalBets:0,bets:0,nums:[],objList:[],groupList:[],totalBetss:0,moneys:0,ben_qi_xia_zhu:!0}},computed:l({},(0,i.mapState)(["hasLogin","userInfo","token"])),onLoad:function(t){this.getuser(),this.title=t.title,this.lotteryTypeId=t.id,this.getplayed(this.lotteryTypeId);var e=[1,2],s=[1,2,3,4],i=[];e.forEach((function(t,e){s.forEach((function(e,s){t!=e&&i.push(t+","+e)}))})),console.log("前2",i);var o=[1,2],n=[1,2,3],l=[1,2,3,4,5],u=[];o.forEach((function(t,e){n.forEach((function(e,s){l.forEach((function(s,i){t!=e&&t!=s&&e!=s&&u.push(t+","+e+","+s)}))}))})),console.log("前3",u)},onShow:function(){},methods:l({numss:function(t,e){for(var s=1,i=1,o=1;o<=e;o++)s*=t.length-o+1,i*=o;return s/i},confirmAddNew:function(){var e=this;if(!this.ben_qi_xia_zhu)return this.$api.msg("本期已截止下注"),!1;if(this.userInfo.money<this.moneys)return this.$api.msg("余额不足"),!1;this.tzxinx=!1,1==this.type?this.moneys=2*this.totalBets:this.moneys=this.totalBetss;var s={type:this.type,title:this.title,lotteryTypeId:this.lotteryTypeId,betPeriod:this.period,betlist:JSON.stringify(this.adds),betMultiple:this.multiple,betNumber:this.totalBets,moneys:this.moneys,secrecy:this.catchUp,betmode:this.subTitle,baodi:this.baodi,zdrengou:this.zdrengou};console.log("下单数据",s),t.request({url:this.webUrlN+"/getbet.aspx",method:"POST",data:s,header:{"Content-Type":"application/x-www-form-urlencoded",Token:this.token.token},success:function(t){1==Number(t.data.status)?(e.pws=!1,e.pw="",e.$api.msg("投注购买成功，敬请期待开奖记录。")):(e.pws=!0,e.$api.msg(t.data.info))},fail:function(t){}})},submit:function(){this.adds.length>0?this.tzxinx=!0:this.$api.msg("请先添加购彩方案到投注列表")},getplayed:function(e){var s=this;t.request({url:this.webUrlN+"/getplayed.aspx",method:"POST",data:{lotteryID:e},header:{"Content-Type":"application/x-www-form-urlencoded",Token:this.token.token},success:function(t){if(1==Number(t.data.status)){s.objList=t.data.playedinfo,s.period=t.data.period,s.expect=t.data.expect,s.numList=t.data.code.split(",");var e=Date.parse(new Date)/1e3;if(s.timestamp=Date.parse(t.data.openTime)/1e3-30-e,console.log(s.timestamp),s.timestamp<=0){for(var i=0;i<s.numList.length;i++)s.$set(s.numList,i,"-");s.ben_qi_xia_zhu=!1}if(!t.data.playedinfo)return!1;console.log("playedinfo",s.objList);for(var o=0;o<s.objList.length;o++){s.objList[o].active=!1;for(var n=0;n<s.objList[o].playedRules.length;n++){s.objList[o].playedRules[n].numbers=s.objList[o].playedRules[n].numbers.split(","),s.objList[o].playedRules[n].numbers=s.objList[o].playedRules[n].numbers.map((function(t){return{id:t,active:!1,history:""}})),s.objList[o].playedRules[n].selectTools=s.objList[o].playedRules[n].selectTools.split(",");for(var l=0;l<s.objList[o].playedRules[n].selectTools.length;l++)s.objList[o].playedRules[n].selectTools[l]={id:l,nametext:s.objList[o].playedRules[n].selectTools[l]},"all"==s.objList[o].playedRules[n].selectTools[l].nametext&&(s.objList[o].playedRules[n].selectTools[l].id=1,s.objList[o].playedRules[n].selectTools[l].name="全"),"big"==s.objList[o].playedRules[n].selectTools[l].nametext&&(s.objList[o].playedRules[n].selectTools[l].id=2,s.objList[o].playedRules[n].selectTools[l].name="大"),"small"==s.objList[o].playedRules[n].selectTools[l].nametext&&(s.objList[o].playedRules[n].selectTools[l].id=3,s.objList[o].playedRules[n].selectTools[l].name="小"),"odd"==s.objList[o].playedRules[n].selectTools[l].nametext&&(s.objList[o].playedRules[n].selectTools[l].id=4,s.objList[o].playedRules[n].selectTools[l].name="单"),"even"==s.objList[o].playedRules[n].selectTools[l].nametext&&(s.objList[o].playedRules[n].selectTools[l].id=5,s.objList[o].playedRules[n].selectTools[l].name="双"),"clear"==s.objList[o].playedRules[n].selectTools[l].nametext&&(s.objList[o].playedRules[n].selectTools[l].id=6,s.objList[o].playedRules[n].selectTools[l].name="清")}}s.objList[0].active=!0,s.obj=s.objList,console.log("objList",s.objList)}else s.$api.msg(t.data.info)},fail:function(t){}})},addLists:function(){var t=this.obj[this.objIndex].playedRules,e=this.obj[this.objIndex].playedId;this.nums=[];for(var s=0;s<t.length;s++){this.nums.push({name:t[s].itemName,activeId:""});for(var i=0;i<t[s].numbers.length;i++)t[s].numbers[i].active&&(this.nums[s].activeId=this.nums[s].activeId+","+t[s].numbers[i].id)}console.log("当前玩法选中的号码",this.nums),this.addList=[{playedId:e,name:this.obj[this.objIndex].playedName,numberText:"",zhushu:""}];for(var o=0;o<this.nums.length;o++)this.nums[o].activeId=this.nums[o].activeId.substr(1),this.addList[0].numberText=this.addList[0].numberText+"|"+this.nums[o].activeId;this.addList[0].numberText=this.addList[0].numberText.substr(1);var n=[{}];this.obj[this.objIndex];if(10011101==e){if(n[0]=this.nums[0].activeId.split(","),n[1]=this.nums[1].activeId.split(","),n[2]=this.nums[2].activeId.split(","),console.log("selectMinNum",t[0].selectMinNum),console.log("activeList",n[0]),""==n[0]||n[0].length<t[0].selectMinNum)return this.$api.msg("个位上最少选中"+t[0].selectMinNum+"个号码"),!1;if(""==n[1]||n[1].length<t[1].selectMinNum)return this.$api.msg("十位上最少选中"+t[1].selectMinNum+"个号码"),!1;if(""==n[2]||n[2].length<t[2].selectMinNum)return this.$api.msg("百位上最少选中"+t[2].selectMinNum+"个号码"),!1}if(10011102==e&&(n[0]=this.nums[0].activeId.split(","),""==n[0]||n[0].length<t[0].selectMinNum))return this.$api.msg("最少选中一个号码"),!1;if(10011103==e&&(n[0]=this.nums[0].activeId.split(","),""==n[0]||n[0].length<t[0].selectMinNum))return this.$api.msg("最少选中"+t[0].selectMinNum+"个号码"),!1;if(10011104==e&&(n[0]=this.nums[0].activeId.split(","),""==n[0]||n[0].length<t[0].selectMinNum))return this.$api.msg("最少选中"+t[0].selectMinNum+"个号码"),!1;if((10011105==e||10011106==e||10011107==e||10011108==e||10011109==e||10011110==e)&&(n[0]=this.nums[0].activeId.split(","),n[0].length<t[0].selectMinNum))return this.$api.msg("最少选中"+t[0].selectMinNum+"个号码"),!1;var l=[],u=[];if(10011101==Number(e)&&(this.nums.forEach((function(t,e){u.push(t.activeId.split(","))})),u[0].forEach((function(t,e){u[1].forEach((function(e,s){u[2].forEach((function(s,i){l.push(t+","+e+","+s)}))}))})),console.log("直选投注列表",l),console.log("直选投注注数",l.length),console.log("直选投注注数totalBets",this.totalBets),this.totalBets=(this.totalBets+l.length)*this.multiple,this.bets=this.bets+l.length),10011102==Number(e)){this.nums.forEach((function(t,e){u.push(t.activeId.split(","))})),console.log("arrlist",u);for(var a="",r=0;r<u[0].length;r++){a=u[0][r];for(var c=0;c<10;c++)for(var h=0;h<10;h++)for(var d=0;d<10;d++)c+h+d==a&&l.push(c+","+h+","+d)}console.log("和值投注列表",l),console.log("和值投注注数",l.length),this.totalBets=(this.totalBets+l.length)*this.multiple,this.bets=this.bets+l.length}if(10011103==Number(e)){var f=this.nums[0].activeId.split(","),p=[];p=this.groups(f,2),this.totalBets=(this.totalBets+2*p.length)*this.multiple,this.bets=this.bets+2*p.length,l=p,l.length=2*l.length,console.log("组三投注列表",l),console.log("组三投注注数",l.length)}if(10011104==Number(e)){var b=this.nums[0].activeId.split(","),m=[];m=this.groups(b,3),console.log("arr2",b),this.totalBets=(this.totalBets+m.length)*this.multiple,this.bets=this.bets+m.length,l=m,l.length=l.length,console.log("组六投注列表",l),console.log("组六投注注数",l.length)}var g=3;if(10011105==e||10011106==e||10011107==e||10011108==e||10011109==e||10011110==e){var v=this.nums[0].activeId.split(",");10011106==e&&(g=4),10011107==e&&(g=5),10011108==e&&(g=6),10011109==e&&(g=7),10011110==e&&(g=8);var y=this.numss(v,g);console.log("numLength",y),this.totalBets=(this.totalBets+y)*this.multiple,this.bets=this.bets+y,l=[],l.length=y,console.log("任选数组",v)}this.addList[0].zhushu=l.length,this.adds.length>0?this.adds=this.adds.concat(this.addList):this.adds=this.addList,console.log("选中玩法",this.adds)},groups:function(t,e,s){s=s||[],t.length;var i=t.slice(0),o=i.shift();return o=o.constructor===Array?o:[o],function t(i,o){var n,l=o.slice(0),u=e-i.length;if(0!=u){if(1==u)for(var a in o)n=i.slice(0),n.push(o[a]),s.push(n);u>1&&(n=i.slice(0),n.push(l.shift()),t(n,l),i.length+l.length>=e&&t(i,l))}else s.push(i)}(o,i),i.length>=e?this.groups(i,e,s):s},clerAdd:function(){this.adds=[],this.bets=0,this.totalBets=0,this.totalBetss=0,this.type=1,this.subTitle="单买"},changeUp:function(){console.log("保密: "+this.catchUp)},changebd:function(){console.log("全额保底: "+this.catchbd),this.catchbd&&(this.baodi=2*this.totalBets-this.zdrengou)},rengou:function(){var t=this;console.log("最低认购",t.zdrengou),Number(this.zdrengou)>2*t.totalBets?(t.zdrengou=0,setTimeout((function(){t.zdrengou=2*t.totalBets,t.baodi=2*t.totalBets-t.zdrengou}),1)):Number(t.zdrengou)<2*t.totalBets*.05?setTimeout((function(){t.baodi=2*t.totalBets-t.zdrengou}),1):t.baodi=2*t.totalBets-t.zdrengou},qdhem:function(){if(Number(this.zdrengou)<2*this.totalBets*.05)return this.$api.msg("最低认购5%,"+2*this.totalBets*.05+"份"),!1;this.hemai=!1,this.subTitle="合买"+this.zdrengou+"份，保底"+this.baodi+"份",this.totalBetss=(Number(this.zdrengou)+Number(this.baodi))*this.multiple,console.log("合买",this.totalBetss)},buyTogeter:function(){if(this.adds.length<1)return this.$api.msg("请先添加购彩方案到投注列表"),!1;this.hemai=!0,this.bettingShow=!1,this.zdrengou=Math.ceil(2*this.totalBets*.05),this.zdrengou<1&&(this.zdrengou=1),this.baodi=2*this.totalBets-this.zdrengou,this.type=2},valChange:function(t){console.log("倍数: "+this.multiple),this.totalBets=this.bets*this.multiple},optionList:function(t,e,s){s[e].active=!s[e].active},ruleClick:function(t,e){for(var s=0;s<this.obj.length;s++)this.obj[s].active=!1;this.objActive=e,this.obj[this.objActive].active=!0},ruleConfirm:function(){console.log(this.objIndex),this.objIndex=this.objActive,this.ruleShow=!1},ruleQx:function(){this.ruleShow=!1,this.objActive=this.objIndex,this.obj[this.objActive].active=!0},xuan:function(t,e){console.log("sele",t);var s=t.id;if(console.log("list",e),1==s)for(var i=0;i<e.length;i++)e[i].active=!0;if(2==s)for(var o=0;o<e.length;o++)e[o].id>4?e[o].active=!0:e[o].active=!1;if(3==s)for(var n=0;n<e.length;n++)e[n].id<=4?e[n].active=!0:e[n].active=!1;if(4==s)for(var l=0;l<e.length;l++)e[l].id%2===1?e[l].active=!0:e[l].active=!1;if(5==s)for(var u=0;u<e.length;u++)e[u].id%2===0?e[u].active=!0:e[u].active=!1;if(6==s)for(var a=0;a<e.length;a++)e[a].active=!1},Downend:function(){console.log("倒计时结束");for(var t=this,e=0;e<t.numList.length;e++)t.$set(t.numList,e,"-");console.log(t.numList),t.ben_qi_xia_zhu=!1,setTimeout((function(){t.getplayed(t.lotteryTypeId),t.ben_qi_xia_zhu=!0}),3e4)},history:function(e){t.navigateTo({url:"/pages/prize/history?title="+this.title+"&id="+e})},getuser:function(){var e=this,s=this;t.request({url:s.webUrlN+"/getinfo.aspx",method:"POST",data:{},header:{"Content-Type":"application/x-www-form-urlencoded",Token:s.token.token},success:function(t){if(1==Number(t.data.status)){var s=t.data;e.setuser(s)}}})}},(0,i.mapMutations)(["setuser"]))};e.default=a}).call(this,s("8adf")["default"])}},[["76ae","common/runtime","common/vendor"]]]);